{% extends "base.html" %}
{% block content %}
{% include "smart_meter/meterbar.html" %}

<!doctype html><html><head>
  <meta charset="utf-8"><title>Daily Report</title>
  <style>table{border-collapse:collapse;width:100%}th,td{border:1px solid #ddd;padding:6px}th{background:#f3f3f3}</style>
</head><body>
<h2>Daily Consumption â€” {{ unit }}</h2>
<form method="get">
  Start: <input type="date" name="start" value="{{ start|date:'Y-m-d' }}"> 
  End: <input type="date" name="end" value="{{ end|date:'Y-m-d' }}">
  <button type="submit">Apply</button>
</form>
<table>
  <thead><tr><th>Date</th><th>Start kWh</th><th>End kWh</th><th>Units</th></tr></thead>
  <tbody>
  {% for row in rows %}
    <tr>
      <td>{{ row.date }}</td>
      <td>{{ row.start_kwh }}</td>
      <td>{{ row.end_kwh }}</td>
      <td>{{ row.units }}</td>
    </tr>
  {% empty %}
    <tr><td colspan="4">No data for the selected range.</td></tr>
  {% endfor %}
  </tbody>
</table>
</body></html>
{% endblock%}